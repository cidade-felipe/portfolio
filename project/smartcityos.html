<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>SmartCityOS | Projeto</title>
  <link rel="stylesheet" href="../src/css/style.css" />
</head>

<body>
  <header class="topbar">
    <div class="topbar-inner">
      <a class="brand" href="../index.html">
        <span class="brand-dot"></span>
        <span>Felipe Cidade Soares</span>
      </a>

      <nav class="nav">
        <a href="../index.html">Home</a>
        <a href="../projects.html" class="active">Projetos</a>
        <a href="../profile.html">Perfil</a>
        <a href="../contact.html">Contato</a>
      </nav>

      <div class="topbar-actions">
        <a class="ghost" href="https://github.com/cidade-felipe" target="_blank" rel="noopener noreferrer">GitHub</a>
        <a class="primary" href="https://www.linkedin.com/in/cidadefelipe/" target="_blank" rel="noopener noreferrer">LinkedIn</a>
      </div>
    </div>
  </header>

  <main>
    <section class="project-hero">
      <div class="container project-title">
        <h1>SmartCityOS</h1>
        <p>
          Sistema operacional inteligente para cidades, com foco em modelagem relacional, regras de negócio
          no banco, auditoria e uma aplicação desktop para operação e consultas.
        </p>

        <div class="badges">
          <span>PostgreSQL</span><span>SQL</span><span>Triggers</span><span>Auditoria</span><span>Python</span><span>PySide6</span>
        </div>

        <div class="meta">
          <span>Autor: Felipe Cidade Soares</span>
          <span>Tipo: Banco + Aplicação</span>
        </div>
      </div>
    </section>

    <section class="report">
      <div class="container report-grid">

        <aside class="toc">
          <h3>Sumário</h3>
          <a href="#intro">1. Contexto</a>
          <a href="#objetivos">2. Objetivos</a>
          <a href="#arquitetura">3. Arquitetura</a>
          <a href="#modelo">4. Modelo de dados</a>
          <a href="#automacoes">5. Automações e regras</a>
          <a href="#interface">6. Interface e telas</a>
          <a href="#sql">7. SQL e consultas</a>
          <a href="#conclusao">8. Conclusão</a>
        </aside>

        <article class="report-content">

          <section id="intro" class="report-section">
            <h2>1. Contexto</h2>
            <p>
              O SmartCityOS foi desenhado para simular uma operação urbana real, conectando cidadãos,
              veículos, sensores, incidentes e multas em um banco centralizado. A prioridade foi criar
              uma base consistente, com regras automatizadas no próprio banco e rastreabilidade total.
            </p>
            <p>
              O projeto demonstra modelagem relacional, SQL avançado, triggers para automação e uma
              interface desktop focada em navegação, filtros e relatórios operacionais.
            </p>
          </section>

          <section id="objetivos" class="report-section">
            <h2>2. Objetivos</h2>
            <p>Construir um núcleo de dados sólido e uma aplicação pronta para uso operacional.</p>

            <ul>
              <li>Modelar entidades urbanas com integridade referencial e regras no banco.</li>
              <li>Automatizar processos críticos (multas, pagamentos, auditoria, soft delete).</li>
              <li>Oferecer telas com KPIs, filtros e ações comuns de operação.</li>
            </ul>

            <div class="kpi-grid">
              <div class="kpi">
                <div class="label">Foco</div>
                <div class="value">Modelagem</div>
              </div>
              <div class="kpi">
                <div class="label">Foco</div>
                <div class="value">Automação</div>
              </div>
              <div class="kpi">
                <div class="label">Foco</div>
                <div class="value">Operação</div>
              </div>
            </div>
          </section>

          <section id="arquitetura" class="report-section">
            <h2>3. Arquitetura</h2>
            <p>
              O projeto é composto por dois blocos principais: banco PostgreSQL (DDL, índices, views e
              triggers) e uma aplicação desktop em Python para operação diária e consultas.
            </p>
            <div class="kpi-grid">
              <div class="kpi">
                <div class="label">Banco</div>
                <div class="value">PostgreSQL + PL/pgSQL</div>
              </div>
              <div class="kpi">
                <div class="label">App</div>
                <div class="value">PySide6</div>
              </div>
              <div class="kpi">
                <div class="label">Interface</div>
                <div class="value">Dashboards + CRUD</div>
              </div>
            </div>
          </section>

          <section id="modelo" class="report-section">
            <h2>4. Modelo de dados</h2>
            <p>
              O modelo cobre entidades essenciais da operação urbana e mantém consistência com chaves
              estrangeiras, constraints e índices. Há controle de status, soft delete e relacionamentos
              entre cidadão, veículo, sensor, incidentes e multas.
            </p>

            <div class="codebox">
CREATE TABLE app_user (...);
CREATE TABLE citizen (...);
CREATE TABLE vehicle (...);
CREATE TABLE sensor (...);
CREATE TABLE traffic_incident (...);
CREATE TABLE fine (...);
CREATE TABLE fine_payment (...);

CREATE VIEW citizen_active AS
SELECT * FROM citizen WHERE deleted_at IS NULL;
            </div>
          </section>

          <section id="automacoes" class="report-section">
            <h2>5. Automações e regras</h2>
            <p>
              As regras principais são executadas no banco para manter consistência mesmo com múltiplos
              clientes conectados. As triggers controlam auditoria, soft delete e atualização automática
              de saldo e dívida.
            </p>

            <div class="codebox">
-- Multas e pagamentos
CREATE TRIGGER trg_apply_fine
AFTER INSERT ON fine
EXECUTE FUNCTION apply_fine_to_wallet();

CREATE TRIGGER trg_apply_fine_payment
AFTER INSERT ON fine_payment
EXECUTE FUNCTION apply_fine_payment();

-- Auditoria genérica
CREATE TRIGGER audit_app_user
AFTER INSERT OR UPDATE OR DELETE ON app_user
EXECUTE FUNCTION audit_log_generic();
            </div>

            <p>
              Além disso, há bloqueio de atualização em registros deletados, cancelamento de multas
              pendentes em casos específicos e índices para acelerar filtros de status e data.
            </p>
          </section>

          <section id="interface" class="report-section">
            <h2>6. Interface e telas</h2>
            <p>
              A aplicação desktop oferece painéis para gestão de cidadãos, veículos, sensores, incidentes
              e multas, com KPIs e filtros prontos para análise. As telas abaixo representam o fluxo
              principal da operação.
            </p>

            <h3>6.1. Dashboard</h3>
            <div class="chars">
              <img src="../src/figure/chars/smartcityos/dashboard.png" alt="Dashboard geral do SmartCityOS">
            </div>

            <h3>6.2. Gestão de cidadãos</h3>
            <div class="chars">
              <img src="../src/figure/chars/smartcityos/cidadaos.png" alt="Tela de gestão de cidadãos">
            </div>

            <h3>6.3. Gestão de veículos</h3>
            <div class="chars">
              <img src="../src/figure/chars/smartcityos/veiculos.png" alt="Tela de gestão de veículos">
            </div>

            <h3>6.4. Gestão de sensores</h3>
            <div class="chars">
              <img src="../src/figure/chars/smartcityos/sensores.png" alt="Tela de gestão de sensores">
            </div>

            <h3>6.5. Gestão de incidentes</h3>
            <div class="chars">
              <img src="../src/figure/chars/smartcityos/incidentes.png" alt="Tela de gestão de incidentes">
            </div>

            <h3>6.6. Gestão de multas</h3>
            <div class="chars">
              <img src="../src/figure/chars/smartcityos/multas.png" alt="Tela de gestão de multas">
            </div>

            <h3>6.7. Estatísticas e relatórios</h3>
            <div class="chars">
              <img src="../src/figure/chars/smartcityos/estatisticas.png" alt="Tela de estatísticas do sistema">
            </div>

            <h3>6.8. Console SQL</h3>
            <div class="chars">
              <img src="../src/figure/chars/smartcityos/console-sql.png" alt="Console SQL com editor e resultados">
            </div>
          </section>

          <section id="sql" class="report-section">
            <h2>7. SQL e consultas</h2>
            <p>
              O console SQL permite consultas seguras (modo leitura), exportação de resultados e exemplos
              prontos para acelerar análises. O foco é facilitar a investigação operacional sem quebrar
              regras do banco.
            </p>

            <div class="codebox">
-- Exemplo de leitura rápida
SELECT * FROM app_user_active LIMIT 10;

-- Multas pendentes por cidadão
SELECT citizen_id, COUNT(*) AS pendentes, SUM(amount) AS total
FROM fine
WHERE status = 'pending'
GROUP BY citizen_id;
            </div>
          </section>

          <section id="conclusao" class="report-section">
            <h2>8. Conclusão</h2>
            <p>
              O SmartCityOS entrega uma base relacional sólida, regras automatizadas e uma interface
              pronta para operação. O resultado é um sistema completo que demonstra domínio de SQL,
              arquitetura de dados e experiência de uso.
            </p>

            <div class="cta-row-final">
              <a class="btn-premium" href="../projects.html">Voltar para projetos</a>
              <a class="btn-premium secondary" href="https://github.com/cidade-felipe/smart-city-os" target="_blank" rel="noopener noreferrer">Repositório</a>
            </div>
          </section>

        </article>
      </div>
    </section>
  </main>

  <footer class="footer-premium">
    <div class="container footer-inner">
      <p>© 2026 Felipe Cidade</p>
      <!-- <div class="footer-links">
        <a href="https://www.linkedin.com/in/cidadefelipe/" target="_blank" rel="noreferrer">LinkedIn</a>
        <a href="https://github.com/cidade-felipe" target="_blank" rel="noreferrer">GitHub</a>
      </div> -->
    </div>
  </footer>
</body>
</html>
