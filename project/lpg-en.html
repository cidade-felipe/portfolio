<!DOCTYPE html>
<html lang="en-US">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>LPG Installation Sizer | Project</title>
<meta name="description" content="Support system for LPG installation sizing with PostgreSQL and Python." />
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=JetBrains+Mono:wght@400;500&display=swap" rel="stylesheet">
<link rel="stylesheet" href="../css/style.css" />
</head>

<body>
<header class="topbar">
   <div class="topbar-inner">
   <a class="brand" href="../index-en.html">
      <span class="brand-dot"></span>
      <span>Felipe Cidade Soares</span>
   </a>

   <nav class="nav">
      <a href="../index-en.html">Home</a>
      <a href="../projects-en.html" class="active">Projects</a>
      <a href="../profile-en.html">Profile</a>
      <a href="../contact-en.html">Contact</a>
   </nav>

   <div class="topbar-actions">
      <a class="ghost" href="https://github.com/cidade-felipe" target="_blank" rel="noopener noreferrer">GitHub</a>
      <a class="primary" href="https://www.linkedin.com/in/cidadefelipe/" target="_blank" rel="noopener noreferrer">LinkedIn</a>
   </div>

   <a class="lang-switch" href="lpg.html" aria-label="Switch language to Portuguese">PT</a>

   <button class="menu-toggle" aria-label="Menu">
      <span></span>
      <span></span>
      <span></span>
   </button>
   </div>
</header>

<main>
   <section class="project-hero">
   <div class="container project-title">
      <h1>LPG Installation Sizer</h1>
      <p>
         Support system for LPG installation sizing with relational database, base data and
         scripts for schema creation, indexing and initial load.
      </p>

      <div class="badges">
         <span>PostgreSQL</span><span>Python</span><span>psycopg</span><span>SQL</span>
      </div>

      <div class="meta">
         <span>Author: Felipe Cidade Soares</span>
         <span>Type: Backend + Data</span>
      </div>
   </div>
   </section>

   <section class="report">
   <div class="container report-grid">

      <aside class="toc">
         <h3>Summary</h3>
         <a href="#intro">1. Introduction</a>
         <a href="#objetivos">2. Objectives</a>
         <a href="#modelo">3. Data model</a>
         <a href="#pipeline">4. Pipeline and automation</a>
         <a href="#features">5. Features</a>
         <a href="#conclusao">6. Conclusion</a>
         <a href="#proximos">7. Next steps</a>
      </aside>

      <article class="report-content">

         <section id="intro" class="report-section">
         <h2>1. Introduction</h2>
         <p>
            The project organizes technical parameters used in LPG installation sizing,
            grouping materials, pipes, fittings and cylinders in a relational database focused on integrity,
            reuse and traceability. The base is complemented by scripts that automate table creation,
            indexes and initial data load.
         </p>
         </section>

         <section id="objetivos" class="report-section">
         <h2>2. Objectives</h2>
         <p>Main project objectives:</p>
         <ul>
            <li>Centralize technical parameters in a consistent relational model.</li>
            <li>Ensure integrity with keys and constraints (FKs, uniques and checks).</li>
            <li>Automate creation and initial load for reproducibility.</li>
         </ul>
         </section>

         <section id="modelo" class="report-section">
         <h2>3. Data model</h2>
         <p>
            The schema organizes base data (materials, pipes, fittings and cylinders) and project data
            (projects, equipment, sections, criteria and calculations). Relationships are protected
            by foreign keys, ensuring operational consistency.
         </p>

         <div class="kpi-grid">
            <div class="kpi">
               <div class="label">Base</div>
               <div class="value">Materials, Pipes, Fittings</div>
            </div>
            <div class="kpi">
               <div class="label">Project</div>
               <div class="value">Sections, Criteria, Calculations</div>
            </div>
            <div class="kpi">
               <div class="label">Operation</div>
               <div class="value">Indexes and Upsert</div>
            </div>
         </div>

         <h3>SQL schema summary</h3>
         <pre><code class="language-sql codebox">
-- Technical catalog
CREATE TABLE material (...);
CREATE TABLE tubo (...);
CREATE TABLE peca (...);
CREATE TABLE cilindro (...);

-- Projects and operation
CREATE TABLE projeto (...);
CREATE TABLE equipamento (...);
CREATE TABLE equipamento_projeto (...);
CREATE TABLE trecho (...);
CREATE TABLE trecho_peca (...);

-- Calculations and criteria
CREATE TABLE calculo (...);
CREATE TABLE criterio_projeto (...);
CREATE TABLE valores_entrada (...);

-- Documents and compliance
CREATE TABLE documento_projeto (...);
CREATE TABLE central_glp (...);
         </code></pre>
         </section>

         <section id="pipeline" class="report-section">
         <h2>4. Pipeline and automation</h2>
         <p>
            Automation is done by Python scripts that execute raw SQL for schema and index creation,
            plus initial load through JSON upsert. The objective is to keep consistency across environments
            and facilitate updates without data loss.
         </p>
         <div class="kpi-grid">
            <div class="kpi">
               <div class="label">Integrity</div>
               <div class="value">PKs + FKs + UNIQUE</div>
            </div>
            <div class="kpi">
               <div class="label">Quality</div>
               <div class="value">CHECKs (&gt;= 0 / &gt; 0)</div>
            </div>
            <div class="kpi">
               <div class="label">Performance</div>
               <div class="value">Indexes on critical joins</div>
            </div>
         </div>
         <pre><code class="language-sql codebox">
-- Indexes for joins and filters
CREATE INDEX idx_eqproj_projeto ON equipamento_projeto (projeto_id);
CREATE INDEX idx_trecho_projeto ON trecho (projeto_id);
CREATE INDEX idx_trechopeca_trecho ON trecho_peca (trecho_id);
CREATE INDEX idx_criterio_projeto ON criterio_projeto (projeto_id);
CREATE INDEX idx_central_glp_projeto ON central_glp (projeto_id);
         </code></pre>
         <h3>Data and setup pipeline</h3>
         <div class="mermaid-wrap">
            <pre class="mermaid">
               flowchart TB
                  A[".env with credentials"] --&gt; B["functions/criar_tabelas.py"]
                  B --&gt; C["sql/tabelas.sql (schema)"]
                  C --&gt; D["functions/criar_indices.py"]
                  D --&gt; E["sql/indices.sql (indexes)"]
                  E --&gt; F["functions/popular_banco.py"]
                  F --&gt; G["json/ (materials, pipes, fittings, cylinders)"]
            </pre>
         </div>
         </section>

         <section id="features" class="report-section">
         <h2>5. Features</h2>
         <p>
            The repository delivers a complete flow to keep the LPG technical database consistent
            and ready for sizing calculations and project analysis.
         </p>
         <pre><code class="language-sql codebox">
-- Rules and integrity
ALTER TABLE equipamento
ADD CONSTRAINT uq_equipamento UNIQUE (nome, unidade_medida, pot_unitaria);

ALTER TABLE trecho
ADD CONSTRAINT uq_trecho UNIQUE (projeto_id, rede);

ALTER TABLE regulador
ADD CONSTRAINT chk_regulador_estagio
CHECK (estagio IN ('primeiro', 'segundo'));
         </code></pre>
         <ul>
            <li>Schema and index creation/removal via scripts.</li>
            <li>Initial base-data load and upsert for safe updates.</li>
            <li>Structure prepared for section calculation and pressure drop analysis.</li>
            <li>Support for PySide6 graphical interface for registration and calculations (in development).</li>
         </ul>
         </section>

         <section id="conclusao" class="report-section">
         <h2>6. Conclusion</h2>
         <p>
            The project establishes a solid base for LPG installation sizing,
            combining a consistent relational model with setup automation and base data.
            This reduces rework, simplifies maintenance and ensures reliable calculations.
         </p>
         </section>

         <section id="proximos" class="report-section">
         <h2>7. Next steps</h2>
         <p>
            Natural evolutions include schema versioning with migrations, log standardization
            in scripts and publication of a dashboard to monitor project metrics.
         </p>
         </section>

         <div class="cta-row-final">
            <a class="btn-premium" href="../projects-en.html">Back to projects</a>
            <a class="btn-premium secondary" href="https://github.com/cidade-felipe/lpg-installation-sizer" target="_blank" rel="noopener noreferrer">Repository</a>
         </div>

      </article>
   </div>
   </section>
</main>

<footer class="footer-premium">
   <div class="container footer-inner">
   <p>Â© 2026 Felipe Cidade</p>
   </div>
</footer>

<script src="../js/main.js"></script>
<link
   rel="stylesheet"
   href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/github-dark.min.css"
/>
<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/highlight.min.js"></script>
<script>
   hljs.highlightAll();
</script>

<script type="module">
   import mermaid from "https://cdn.jsdelivr.net/npm/mermaid@10/dist/mermaid.esm.min.mjs";
   mermaid.initialize({ startOnLoad: true });
</script>
</body>
</html>
